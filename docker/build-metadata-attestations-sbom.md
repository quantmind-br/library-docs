---
title: SBOM attestations
url: https://docs.docker.com/build/metadata/attestations/sbom/
source: llms
fetched_at: 2026-01-24T14:17:06.835768393-03:00
rendered_js: false
word_count: 842
summary: This document explains how to create, manage, and verify Software Bill of Materials (SBOM) attestations using Docker BuildKit to improve software supply chain transparency.
tags:
    - docker
    - sbom
    - buildkit
    - attestation
    - supply-chain-security
    - spdx
    - multi-stage-builds
category: guide
---

SBOM attestations help ensure [software supply chain transparency](https://docs.docker.com/guides/docker-scout/s3c/) by verifying the software artifacts an image contains and the artifacts used to create the image. Metadata included in an [SBOM](https://docs.docker.com/guides/docker-scout/sbom/) for describing software artifacts may include:

- Name of the artifact
- Version
- License type
- Authors
- Unique package identifier

Indexing the contents of an image during the build has benefits over scanning a final image. When scanning happens as part of the build, you can detect software you used to build the image, which may not show up in the final image.

Docker supports SBOM generation and attestation through an SLSA-compliant build process using BuildKit and attestations. The SBOMs generated by [BuildKit](https://docs.docker.com/build/buildkit/) follow the SPDX standard and attach to the final image as a JSON-encoded SPDX document, using the format defined by the [in-toto SPDX predicate](https://github.com/in-toto/attestation/blob/main/spec/predicates/spdx.md). On this page, youâ€™ll learn how to create, manage, and verify SBOM attestations using Docker tooling.

To create an SBOM attestation, pass the `--attest type=sbom` option to the `docker buildx build` command:

Alternatively, you can use the shorthand `--sbom=true` option instead of `--attest type=sbom`.

For an example on how to add SBOM attestations with GitHub Actions, see [Add attestations with GitHub Actions](https://docs.docker.com/build/ci/github-actions/attestations/).

Always validate the generated SBOM for your image before you push your image to a registry.

To validate, you can build the image using the `local` exporter. Building with the `local` exporter saves the build result to your local filesystem instead of creating an image. Attestations are written to a JSON file in the root directory of your export.

The SBOM file appears in the root directory of the output, named `sbom.spdx.json`:

By default, BuildKit only scans the final stage of an image. The resulting SBOM doesn't include build-time dependencies installed in earlier stages, or that exist in the build context. This may cause you to overlook vulnerabilities in those dependencies, which could impact the security of your final build artifacts.

For instance, you might use [multi-stage builds](https://docs.docker.com/build/building/multi-stage/), with a `FROM scratch` stanza for your final stage to achieve a smaller image size.

Scanning the resulting image built using this Dockerfile example would not reveal build-time dependencies used in the `build` stage.

To include build-time dependencies from your Dockerfile, you can set the build arguments `BUILDKIT_SBOM_SCAN_CONTEXT` and `BUILDKIT_SBOM_SCAN_STAGE`. This expands the scanning scope to include the build context and additional stages.

You can set the arguments as global arguments (after declaring the Dockerfile syntax directive, before the first `FROM` command) or individually in each stage. If set globally, the value propagates to each stage in the Dockerfile.

The `BUILDKIT_SBOM_SCAN_CONTEXT` and `BUILDKIT_SBOM_SCAN_STAGE` build arguments are special values. You can't perform variable substitution using these arguments, and you can't set them using environment variables from within the Dockerfile. The only way to set these values is using explicit `ARG` command in the Dockerfile.

### [Scan build context](#scan-build-context)

To scan the build context, set the `BUILDKIT_SBOM_SCAN_CONTEXT` to `true`.

You can use the `--build-arg` CLI option to override the value specified in the Dockerfile.

Note that passing the option as a CLI argument only, without having declared it using `ARG` in the Dockerfile, will have no effect. You must specify the `ARG` in the Dockerfile, whereby you can override the context scanning behavior using `--build-arg`.

### [Scan stages](#scan-stages)

To scan more than just the final stage, set the `BUILDKIT_SBOM_SCAN_STAGE` argument to true, either globally or in the specific stages that you want to scan. The following table demonstrates the different possible settings for this argument.

ValueDescription`BUILDKIT_SBOM_SCAN_STAGE=true`Enables scanning for the current stage`BUILDKIT_SBOM_SCAN_STAGE=false`Disables scanning for the current stage`BUILDKIT_SBOM_SCAN_STAGE=base,bin`Enables scanning for the stages named `base` and `bin`

Only stages that are built will be scanned. Stages that aren't dependencies of the target stage won't be built, or scanned.

The following Dockerfile example uses multi-stage builds to build a static website with [Hugo](https://gohugo.io/).

Setting `ARG BUILDKIT_SBOM_SCAN_STAGE=true` in the `hugo` stage ensures that the final SBOM includes the information that Alpine Linux and Hugo were used to create the website.

Building this image with the `local` exporter creates two JSON files:

To explore created SBOMs exported through the `image` exporter, you can use [`imagetools inspect`](https://docs.docker.com/reference/cli/docker/buildx/imagetools/inspect/).

Using the `--format` option, you can specify a template for the output. All SBOM-related data is available under the `.SBOM` attribute. For example, to get the raw contents of an SBOM in SPDX format:

> If the image is multi-platform, you can check the SBOM for a platform-specific index using `--format '{{ json (index .SBOM "linux/amd64").SPDX }}'`.

You can also construct more complex expressions using the full functionality of Go templates. For example, you can list all the installed packages and their version identifiers:

BuildKit generates the SBOM using a scanner plugin. By default, it uses is the [BuildKit Syft scanner](https://github.com/docker/buildkit-syft-scanner) plugin. This plugin is built on top of [Anchore's Syft](https://github.com/anchore/syft), an open source tool for generating an SBOM.

You can select a different plugin to use with the `generator` option, specifying an image that implements the [BuildKit SBOM scanner protocol](https://github.com/moby/buildkit/blob/master/docs/attestations/sbom-protocol.md).

> The Docker Scout SBOM generator is available. See [Docker Scout SBOMs](https://docs.docker.com/scout/how-tos/view-create-sboms/).

The following JSON example shows what an SBOM attestation might look like.