---
title: Supabase Tutorial | liteLLM
url: https://docs.litellm.ai/docs/observability/supabase_integration
source: sitemap
fetched_at: 2026-01-21T19:46:36.891586369-03:00
rendered_js: false
word_count: 206
summary: This document explains how to integrate LiteLLM with Supabase to log LLM requests and track total spend across multiple providers using success and failure callbacks.
tags:
    - litellm
    - supabase
    - llm-logging
    - cost-tracking
    - database-integration
    - error-logging
    - python
category: tutorial
---

[Supabase](https://supabase.com/) is an open source Firebase alternative. Start your project with a Postgres database, Authentication, instant APIs, Edge Functions, Realtime subscriptions, Storage, and Vector embeddings.

## Use Supabase to log requests and see total spend across all LLM Providers (OpenAI, Azure, Anthropic, Cohere, Replicate, PaLM)[‚Äã](#use-supabase-to-log-requests-and-see-total-spend-across-all-llm-providers-openai-azure-anthropic-cohere-replicate-palm "Direct link to Use Supabase to log requests and see total spend across all LLM Providers (OpenAI, Azure, Anthropic, Cohere, Replicate, PaLM)")

liteLLM provides `success_callbacks` and `failure_callbacks`, making it easy for you to send data to a particular provider depending on the status of your responses.

In this case, we want to log requests to Supabase in both scenarios - when it succeeds and fails.

### Create a supabase table[‚Äã](#create-a-supabase-table "Direct link to Create a supabase table")

Go to your Supabase project &gt; go to the [Supabase SQL Editor](https://supabase.com/dashboard/projects) and create a new table with this configuration.

Note: You can change the table name. Just don't change the column names.

```
createtable
public.request_logs (
    id bigint generated bydefaultasidentity,
    created_at timestampwithtime zone nulldefaultnow(),
    model textnulldefault''::text,
    messages json nulldefault'{}'::json,
    response json nulldefault'{}'::json,
    end_user textnulldefault''::text,
statustextnulldefault''::text,
    error json nulldefault'{}'::json,
    response_time realnulldefault'0'::real,
    total_cost realnull,
    additional_details json nulldefault'{}'::json,
    litellm_call_id textunique,
primarykey(id)
)tablespace pg_default;
```

### Use Callbacks[‚Äã](#use-callbacks "Direct link to Use Callbacks")

Use just 2 lines of code, to instantly see costs and log your responses **across all providers** with Supabase:

```
litellm.success_callback=["supabase"]
litellm.failure_callback=["supabase"]
```

Complete code

```
from litellm import completion

## set env variables
### SUPABASE
os.environ["SUPABASE_URL"]="your-supabase-url"
os.environ["SUPABASE_KEY"]="your-supabase-key"

## LLM API KEY
os.environ["OPENAI_API_KEY"]=""

# set callbacks
litellm.success_callback=["supabase"]
litellm.failure_callback=["supabase"]

# openai call
response = completion(
  model="gpt-3.5-turbo",
  messages=[{"role":"user","content":"Hi üëã - i'm openai"}],
  user="ishaan22"# identify users
)

# bad call, expect this call to fail and get logged
response = completion(
  model="chatgpt-test",
  messages=[{"role":"user","content":"Hi üëã - i'm a bad call to test error logging"}]
)

```

### Additional Controls[‚Äã](#additional-controls "Direct link to Additional Controls")

**Identify end-user**

Pass `user` to `litellm.completion` to map your llm call to an end-user

```
response = completion(
  model="gpt-3.5-turbo",
  messages=[{"role":"user","content":"Hi üëã - i'm openai"}],
  user="ishaan22"# identify users
)
```

**Different Table name**

If you modified your table name, here's how to pass the new name.

```
litellm.modify_integration("supabase",{"table_name":"litellm_logs"})
```

## Support & Talk to Founders[‚Äã](#support--talk-to-founders "Direct link to Support & Talk to Founders")

- [Schedule Demo üëã](https://calendly.com/d/4mp-gd3-k5k/berriai-1-1-onboarding-litellm-hosted-version)
- [Community Discord üí≠](https://discord.gg/wuPM9dRgDw)
- Our numbers üìû +1 (770) 8783-106 / ‚Ä≠+1 (412) 618-6238‚Ä¨
- Our emails ‚úâÔ∏è [ishaan@berri.ai](mailto:ishaan@berri.ai) / [krrish@berri.ai](mailto:krrish@berri.ai)